#pragma once

#include "vivid.h"

//------------------------------------------------------------
// スクロール背景クラス
// ・複数枚の背景を横方向にスクロールさせる
//------------------------------------------------------------
class CBackGround
{
public:
	//--------------------------------------------------------
	// コンストラクタ
	//--------------------------------------------------------
	CBackGround(void);

	//--------------------------------------------------------
	// デストラクタ
	//--------------------------------------------------------
	~CBackGround(void) = default;

	//--------------------------------------------------------
	// 初期化処理
	// ・位置、速度の確保・初期設定
	//--------------------------------------------------------
	void Initialize(void);

	//--------------------------------------------------------
	// 更新処理
	// ・背景のスクロール計算
	//--------------------------------------------------------
	void Update(void);

	//--------------------------------------------------------
	// 描画処理
	//--------------------------------------------------------
	void Draw(void);

	//--------------------------------------------------------
	// 終了処理
	// ・確保したメモリの解放
	//--------------------------------------------------------
	void Finalize(void);

private:
	//--------------------------------------------------------
	// 背景の位置配列
	//--------------------------------------------------------
	vivid::Vector2* m_Position;   // 各背景の座標（動的配列）

	//--------------------------------------------------------
	// 背景の移動速度配列
	//--------------------------------------------------------
	vivid::Vector2* m_Velocity;   // 各背景のスクロール速度

	//--------------------------------------------------------
	// 定数パラメータ
	//--------------------------------------------------------
	static const int   m_max_background_count; // 背景の枚数
	static const int   m_width;                // 背景1枚の横幅
	static const int   m_height;               // 背景1枚の高さ
	static const float m_scroll_speed;         // スクロール速度
	static const std::string m_background_texture_path;	// 背景の絵のファイルパス
};
