#pragma once
#include "../scene.h"
#include "vivid.h"

//-----------------------------------------------------------------------------
// ゲームクリア画面用シーン
// ・IScene を継承し、SceneManager から管理される
// ・入力受付と描画のみを担当し、ゲームロジックは持たない
//-----------------------------------------------------------------------------
class CGameClear
	: public IScene
{
public:
	//-----------------------------------------------------------------------------
	// コンストラクタ
	// ・表示に必要な座標の初期値設定のみ行う
	// ・重いリソース生成は Initialize() に委譲
	//-----------------------------------------------------------------------------
	CGameClear(void);

	// デストラクタ（シーンは使い捨て前提のため default）
	~CGameClear(void) = default;

	//-----------------------------------------------------------------------------
	// 初期化
	// ・フォント生成など、シーン開始時に一度だけ必要な処理を行う
	//-----------------------------------------------------------------------------
	void Initialize(void) override;

	//-----------------------------------------------------------------------------
	// 更新
	// ・入力監視およびシーン遷移制御を担当
	// ・描画ロジックは含めない
	//-----------------------------------------------------------------------------
	void Update(void) override;

	//-----------------------------------------------------------------------------
	// 描画
	// ・背景 → UIテキスト の順で描画
	// ・Update() に依存しない純粋な描画処理とする
	//-----------------------------------------------------------------------------
	void Draw(void) override;

	//-----------------------------------------------------------------------------
	// 解放
	// ・現在は明示的な解放処理なし
	// ・将来リソース管理を追加する余地を残す
	//-----------------------------------------------------------------------------
	void Finalize(void) override;

private:
	//-----------------------------------------------------------------------------
	// 定数群（描画スケールに関するパラメータ）
	// ・static const にすることでインスタンスごとのメモリを削減
	//-----------------------------------------------------------------------------
	static const int	m_font_size;			// デバッグ用フォントサイズ
	static const int	m_enter_font_size;		// Enter誘導テキスト用フォントサイズ
	static const float	m_scene_change_time;	// シーン切り替え時間

	//-----------------------------------------------------------------------------
	// 描画用座標
	// ・UIレイアウト調整を容易にするためメンバとして保持
	//-----------------------------------------------------------------------------
	vivid::Vector2		m_Position;				// デバッグ表示用座標
	vivid::Vector2		m_EnterPosition;		// "Push Enter" 表示位置

	float				m_SceneChangeTimer;		// シーン切り替えタイマー
};
